import{j as v,A as g,B as k,u as E,r as C,s as A,b as u,o as r,c as m,d as e,e as M,f as t,C as S,D as p,E as j,G as B,h as c}from"./app-2c444acf.js";import{u as U}from"./useAuth-71311202.js";import{E as V,d as z}from"./index-32190f06.js";import"./index-1dd2f180.js";import"./vue.runtime.esm-bundler-fc9d968a.js";const D={class:"w-full bg-slate-100 relative"},I={class:"w-full h-full bg-cover bg-center"},N={class:"bg-black/50 z-10 w-full min-h-screen flex flex-col items-center justify-center px-4 py-20"},P=e("div",{class:"text-center"},[e("h1",{class:"font-bold lg:text-3xl text-2xl text-white"},"ECC Church Admin Panel"),e("h3",{class:"flex flex-col items-center text-white text-base my-1"},"Entrez vos identifiants pour acceder au panneau d'administration")],-1),R={class:"flex flex-col items-center justify-center p-3 w-full max-w-xl bg-white shadow-md rounded-lg my-8"},$={class:"w-full"},q=e("label",{class:""},"Adresse mail",-1),F={class:"w-full mt-3"},G=e("label",{class:""},"Mot de passe",-1),L={class:"relative mt-1"},T=["type"],Y=e("div",{class:"flex w-full justify-between my-5"},[e("a",{href:"#",class:"text-blue-600"},"Mot de passe oubliÃ© ?")],-1),H=["disabled"],J={key:1},te={__name:"Login",setup(K){const n=v(!1),f=g(),h=k(),a=E(),{errors:i,loading:d,loginAdmin:b,isFinish:O,cleanErrors:x}=U(),o=C({email:"",password:""});A(async()=>{a.user!=null&&a.tokenUser!=null&&f.replace({name:"admin.dashboard"}),console.log(a.tokenUser),h.query.errors&&i.value.push("Your not a administrator")});const _=async()=>{await b({...o}),i.value.length==0&&(location.href="/admin")};return(Q,s)=>{const w=u("Error"),y=u("Spin");return r(),m("div",D,[e("div",I,[e("div",N,[P,e("div",R,[M(w,{errors:t(i),onCleanErrors:t(x)},null,8,["errors","onCleanErrors"]),e("form",{class:"flex flex-col w-full py-3 px-4",onSubmit:s[3]||(s[3]=S(l=>_(),["prevent"]))},[e("div",$,[q,p(e("input",{"onUpdate:modelValue":s[0]||(s[0]=l=>o.email=l),class:"border-gray-300 border form-input p-2 mt-1 outline-none block rounded-lg shadow-sm w-full",type:"email",placeholder:"Ex: nom@xyz.com"},null,512),[[j,o.email]])]),e("div",F,[G,e("div",L,[p(e("input",{"onUpdate:modelValue":s[1]||(s[1]=l=>o.password=l),class:"border-gray-300 border form-input py-2 pr-10 outline-none block rounded-lg shadow-sm w-full",type:n.value?"text":"password",placeholder:"8+ caracteres"},null,8,T),[[B,o.password]]),e("span",{class:"absolute top-3 right-4 cursor-pointer",onClick:s[2]||(s[2]=l=>n.value=!n.value)},[n.value?(r(),c(t(z),{key:1,class:"w-5 h-5 text-gray-500"})):(r(),c(t(V),{key:0,class:"w-5 h-5 text-gray-500"}))])])]),Y,e("button",{type:"submit",disabled:t(d),class:"p-2 mt-2 rounded-lg bg-gradient-to-r from-blue-500 to-blue-600 disabled:bg-blue-300 text-white font-semibold cursor-pointer flex items-center justify-center"},[t(d)?(r(),c(y,{key:0})):(r(),m("span",J,"Se Connecter"))],8,H)],32)])])])])}}};export{te as default};
